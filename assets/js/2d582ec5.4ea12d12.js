"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[5533],{6066:(e,d,r)=>{r.r(d),r.d(d,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"integracoes/integracao-via-api/parametros-api","title":"Par\xe2metros da API","description":"Nesta se\xe7\xe3o voc\xea encontra a descri\xe7\xe3o completa dos par\xe2metros utilizados na API do Connect TEF, incluindo os valores esperados em query string, no corpo das requisi\xe7\xf5es e no retorno via webhook.","source":"@site/docs/integracoes/integracao-via-api/parametros-api.md","sourceDirName":"integracoes/integracao-via-api","slug":"/integracoes/integracao-via-api/parametros-api","permalink":"/docs/integracoes/integracao-via-api/parametros-api","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Testando via Postman","permalink":"/docs/integracoes/integracao-via-api/configurar-postman"},"next":{"title":"Endpoint: Pagamento","permalink":"/docs/integracoes/integracao-via-api/pamagemto"}}');var n=r(4848),i=r(8453);const t={sidebar_position:3},o="Par\xe2metros da API",c={},a=[{value:"\ud83c\udf10 URL Base",id:"-url-base",level:3},{value:"\ud83d\udd0d Query",id:"-query",level:3},{value:"\ud83d\udce8 Body",id:"-body",level:3},{value:"\u26a0\ufe0f Observa\xe7\xf5es Importantes",id:"\ufe0f-observa\xe7\xf5es-importantes",level:3},{value:"\ud83e\uddfe Exemplo de objeto <code>comanda</code>:",id:"-exemplo-de-objeto-comanda",level:3},{value:"\ud83d\udd22 C\xf3digos para <code>tipoTransacao</code>",id:"-c\xf3digos-para-tipotransacao",level:3}];function l(e){const d={code:"code",em:"em",h1:"h1",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.header,{children:(0,n.jsx)(d.h1,{id:"par\xe2metros-da-api",children:"Par\xe2metros da API"})}),"\n",(0,n.jsxs)(d.p,{children:["Nesta se\xe7\xe3o voc\xea encontra a descri\xe7\xe3o completa dos ",(0,n.jsx)(d.strong,{children:"par\xe2metros utilizados na API do Connect TEF"}),", incluindo os valores esperados em ",(0,n.jsx)(d.strong,{children:"query string"}),", no ",(0,n.jsx)(d.strong,{children:"corpo das requisi\xe7\xf5es"})," e no ",(0,n.jsx)(d.strong,{children:"retorno via webhook"}),"."]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h3,{id:"-url-base",children:"\ud83c\udf10 URL Base"}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-text",children:"https://apitef.pdvpos.com.br/api/v1\n"})}),"\n",(0,n.jsx)(d.p,{children:"Todas as requisi\xe7\xf5es devem ser feitas a partir desta URL, utilizando o endpoint apropriado conforme a opera\xe7\xe3o desejada."}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h3,{id:"-query",children:"\ud83d\udd0d Query"}),"\n",(0,n.jsxs)(d.p,{children:["Utilizados quando os dados s\xe3o enviados diretamente na URL (exemplo: ",(0,n.jsx)(d.code,{children:"POST /pagamento?numeroSerie=abc123"}),")."]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"Par\xe2metro"}),(0,n.jsx)(d.th,{children:"Tipo"}),(0,n.jsx)(d.th,{children:"Obrigat\xf3rio"}),(0,n.jsx)(d.th,{children:"Descri\xe7\xe3o"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"numeroSerie"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"Sim"}),(0,n.jsx)(d.td,{children:"N\xfamero de s\xe9rie do Smart POS"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"callbackUrl"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"Sim"}),(0,n.jsx)(d.td,{children:"URL para envio do webhook"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"CPFCNPJ"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsxs)(d.td,{children:["Sim ",(0,n.jsx)(d.em,{children:"(exceto na gera\xe7\xe3o de QR Code)"})]}),(0,n.jsx)(d.td,{children:"CPF ou CNPJ vinculado ao Smart POS"})]})]})]}),"\n",(0,n.jsx)(d.hr,{}),"\n",(0,n.jsx)(d.h3,{id:"-body",children:"\ud83d\udce8 Body"}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"Campo"}),(0,n.jsx)(d.th,{children:"Tipo"}),(0,n.jsx)(d.th,{children:"Obrigat\xf3rio"}),(0,n.jsx)(d.th,{children:"Padr\xe3o"}),(0,n.jsx)(d.th,{children:"Descri\xe7\xe3o"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"identificacao"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"Sim (todas)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"Identificador \xfanico da transa\xe7\xe3o"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"callbackUrl"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"Sim (todas)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"URL de retorno para notifica\xe7\xf5es via webhook"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"finalizacao"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"Sim (estorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"C\xf3digo de finaliza\xe7\xe3o da transa\xe7\xe3o"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"base64"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"Sim (impress\xe3o)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"Imagem codificada em base64 a ser impressa"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"callbackToken"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsxs)(d.td,{children:["Token enviado no header ",(0,n.jsx)(d.code,{children:"token"})," do webhook"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"imprimirComprovante"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"bool"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"false"})}),(0,n.jsxs)(d.td,{children:["Se ",(0,n.jsx)(d.code,{children:"true"}),", imprime o comprovante no Smart POS"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"naoExecutar"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"bool"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"false"})}),(0,n.jsxs)(d.td,{children:["Se ",(0,n.jsx)(d.code,{children:"true"}),", adiciona \xe0 lista de cobran\xe7as pendentes do Smart POS"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"sobreporOperacao"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"bool"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"false"})}),(0,n.jsxs)(d.td,{children:["Se ",(0,n.jsx)(d.code,{children:"true"}),", cancela opera\xe7\xe3o anterior em andamento"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"uuidTerminal"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"UUID do terminal para direcionar a solicita\xe7\xe3o"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"textoEspecialCliente"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsxs)(d.td,{children:["Texto exibido no Smart POS ao usar ",(0,n.jsx)(d.code,{children:"naoExecutar: true"})]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"valorTotal"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"number"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"0.00"})}),(0,n.jsx)(d.td,{children:"Valor total da transa\xe7\xe3o"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"quantidadeParcelas"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"number"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"1"})}),(0,n.jsx)(d.td,{children:"Quantidade de parcelas (para vendas a cr\xe9dito)"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"tipoTransacao"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"number"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"99"})}),(0,n.jsx)(d.td,{children:"C\xf3digo do tipo de transa\xe7\xe3o (veja tabela abaixo)"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"comanda"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"json"})}),(0,n.jsx)(d.td,{children:"N\xe3o"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"Informa\xe7\xf5es adicionais a serem exibidas no Smart POS (detalhes abaixo)"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"bandeiraCartao"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"Bandeira do cart\xe3o utilizado (ex: VISA, MASTERCARD)"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"cnpj"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"CNPJ do estabelecimento vinculado ao POS"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"codigoAutorizacaoTransacao"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"C\xf3digo de autoriza\xe7\xe3o da adquirente"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"dataTransacaoComprovante"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsxs)(d.td,{children:["Data da transa\xe7\xe3o (formato: ",(0,n.jsx)(d.code,{children:"ddMMyyyy"}),")"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"horaTransacaoComprovante"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsxs)(d.td,{children:["Hora da transa\xe7\xe3o (formato: ",(0,n.jsx)(d.code,{children:"hhmmss"}),")"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"executada"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"boolean"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsxs)(d.td,{children:["Indica se a transa\xe7\xe3o foi executada (",(0,n.jsx)(d.code,{children:"true"}),") ou apenas adicionada \xe0 fila"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"nomeRede"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"Nome da rede adquirente (ex: STONE, CIELO)"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"numeroTransacao"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"N\xfamero \xfanico da transa\xe7\xe3o fornecido pela adquirente"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"razaoSocial"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"Nome do estabelecimento no POS"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"statusTransacao"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsxs)(d.td,{children:[(0,n.jsx)(d.code,{children:"0"})," = sucesso, outros valores indicam falha"]})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"timestampTransacaoHost"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"Timestamp da transa\xe7\xe3o no host/processadora"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"textoEspecialOperador"}),(0,n.jsx)(d.td,{children:(0,n.jsx)(d.code,{children:"string"})}),(0,n.jsx)(d.td,{children:"N\xe3o (retorno/falha)"}),(0,n.jsx)(d.td,{children:"-"}),(0,n.jsx)(d.td,{children:"Mensagem explicativa quando h\xe1 falha"})]})]})]}),"\n",(0,n.jsx)(d.h3,{id:"\ufe0f-observa\xe7\xf5es-importantes",children:"\u26a0\ufe0f Observa\xe7\xf5es Importantes"}),"\n",(0,n.jsxs)(d.ul,{children:["\n",(0,n.jsxs)(d.li,{children:["Se ",(0,n.jsx)(d.code,{children:'statusTransacao = "0"'}),", a transa\xe7\xe3o foi ",(0,n.jsx)(d.strong,{children:"conclu\xedda com sucesso"}),"."]}),"\n",(0,n.jsxs)(d.li,{children:["Se ",(0,n.jsx)(d.code,{children:"executada = false"}),", a opera\xe7\xe3o est\xe1 em andamento."]}),"\n",(0,n.jsxs)(d.li,{children:["Para qualquer valor diferente de ",(0,n.jsx)(d.code,{children:'"0"'}),", a transa\xe7\xe3o ",(0,n.jsx)(d.strong,{children:"falhou"}),", e o campo ",(0,n.jsx)(d.code,{children:"textoEspecialOperador"})," estar\xe1 presente com a mensagem de erro detalhada."]}),"\n"]}),"\n",(0,n.jsxs)(d.p,{children:[(0,n.jsx)(d.strong,{children:"Exemplo de falha"}),":"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-json",children:'{\r\n  "statusTransacao": "1",\r\n  "textoEspecialOperador": "Ocorreu uma falha no processo de pagamento: Tempo de espera excedido na conex\xe3o com o host de pagamento (PCRC-0016)"\r\n}\n'})}),"\n",(0,n.jsxs)(d.h3,{id:"-exemplo-de-objeto-comanda",children:["\ud83e\uddfe Exemplo de objeto ",(0,n.jsx)(d.code,{children:"comanda"}),":"]}),"\n",(0,n.jsx)(d.pre,{children:(0,n.jsx)(d.code,{className:"language-json",children:'{\r\n  "identificador": "Ismael Almeida",\r\n  "itens": [\r\n    {\r\n      "titulo": "Coca cola",\r\n      "descri\xe7\xe3o": "Bem gelada"\r\n    }\r\n  ],\r\n  "endereco": "R. Humberto I, 1005 - Vila Mariana"\r\n}\n'})}),"\n",(0,n.jsxs)(d.h3,{id:"-c\xf3digos-para-tipotransacao",children:["\ud83d\udd22 C\xf3digos para ",(0,n.jsx)(d.code,{children:"tipoTransacao"})]}),"\n",(0,n.jsxs)(d.table,{children:[(0,n.jsx)(d.thead,{children:(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.th,{children:"C\xf3digo"}),(0,n.jsx)(d.th,{children:"Tipo de Transa\xe7\xe3o"})]})}),(0,n.jsxs)(d.tbody,{children:[(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"10"}),(0,n.jsx)(d.td,{children:"Cart\xe3o de Cr\xe9dito \xe0 Vista"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"11"}),(0,n.jsx)(d.td,{children:"Cr\xe9dito Parcelado pelo Estabelecimento"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"12"}),(0,n.jsx)(d.td,{children:"Cr\xe9dito Parcelado pela Administradora"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"20"}),(0,n.jsx)(d.td,{children:"Cart\xe3o de D\xe9bito"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"30"}),(0,n.jsx)(d.td,{children:"PIX / Carteira Digital"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"60"}),(0,n.jsx)(d.td,{children:"Voucher / PAT"})]}),(0,n.jsxs)(d.tr,{children:[(0,n.jsx)(d.td,{children:"99"}),(0,n.jsx)(d.td,{children:"Outras"})]})]})]})]})}function h(e={}){const{wrapper:d}={...(0,i.R)(),...e.components};return d?(0,n.jsx)(d,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453:(e,d,r)=>{r.d(d,{R:()=>t,x:()=>o});var s=r(6540);const n={},i=s.createContext(n);function t(e){const d=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function o(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),s.createElement(i.Provider,{value:d},e.children)}}}]);