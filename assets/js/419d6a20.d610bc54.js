"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[8960],{3086:(e,r,n)=>{n.d(r,{A:()=>a});const a=n.p+"assets/images/diagrama-b6e290bed7ae106d56b67c9a0e8cbba1.png"},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>c});var a=n(6540);const d={},s=a.createContext(d);function o(e){const r=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),a.createElement(s.Provider,{value:r},e.children)}},9158:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>t});const a=JSON.parse('{"id":"integracoes/integracao-via-dll/introducao","title":"Introdu\xe7\xe3o","description":"A InterfaceConnectTEF.dll \xe9 uma biblioteca que permite a integra\xe7\xe3o de aplica\xe7\xf5es windows ao Connect TEF, oferecendo suporte a transa\xe7\xf5es, estornos, impress\xe3o.","source":"@site/docs/integracoes/integracao-via-dll/introducao.md","sourceDirName":"integracoes/integracao-via-dll","slug":"/integracoes/integracao-via-dll/introducao","permalink":"/docs/integracoes/integracao-via-dll/introducao","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"introducao","title":"Introdu\xe7\xe3o","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"DLL","permalink":"/docs/category/dll"},"next":{"title":"Pagamento","permalink":"/docs/integracoes/integracao-via-dll/pagamento"}}');var d=n(4848),s=n(8453);const o={id:"introducao",title:"Introdu\xe7\xe3o",sidebar_position:1},c="Introdu\xe7\xe3o",i={},t=[{value:"Downloads",id:"downloads",level:2},{value:"Vis\xe3o Geral",id:"vis\xe3o-geral",level:2},{value:"Assinatura da Fun\xe7\xe3o",id:"assinatura-da-fun\xe7\xe3o",level:2},{value:"Par\xe2metros",id:"par\xe2metros",level:3},{value:"Campos no JSON de retorno",id:"campos-no-json-de-retorno",level:2},{value:"Exemplos de Resposta",id:"exemplos-de-resposta",level:2},{value:"\u23f3 Em Andamento",id:"-em-andamento",level:3},{value:"\u274c Exemplo com Falha",id:"-exemplo-com-falha",level:3},{value:"\u2705 Exemplo com Sucesso",id:"-exemplo-com-sucesso",level:3}];function l(e){const r={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.header,{children:(0,d.jsx)(r.h1,{id:"introdu\xe7\xe3o",children:"Introdu\xe7\xe3o"})}),"\n",(0,d.jsxs)(r.p,{children:["A ",(0,d.jsx)(r.code,{children:"InterfaceConnectTEF.dll"})," \xe9 uma biblioteca que permite a integra\xe7\xe3o de aplica\xe7\xf5es windows ao Connect TEF, oferecendo suporte a ",(0,d.jsx)(r.strong,{children:"transa\xe7\xf5es"}),", ",(0,d.jsx)(r.strong,{children:"estornos"}),", ",(0,d.jsx)(r.strong,{children:"impress\xe3o"}),"."]}),"\n",(0,d.jsxs)(r.blockquote,{children:["\n",(0,d.jsxs)(r.p,{children:["\u26a0\ufe0f ",(0,d.jsx)(r.strong,{children:"Importante:"}),(0,d.jsx)(r.br,{}),"\n","A DLL se comunica com o ",(0,d.jsx)(r.strong,{children:"Gerenciador Padr\xe3o"}),", que deve estar corretamente instalado e configurado no ambiente.",(0,d.jsx)(r.br,{}),"\n","Antes de iniciar a integra\xe7\xe3o, consulte o ",(0,d.jsx)(r.a,{href:"/docs/guia-ativacao/windows",children:(0,d.jsx)(r.em,{children:(0,d.jsx)(r.strong,{children:"Guia de Ativa\xe7\xe3o clicando aqui"})})}),"."]}),"\n"]}),"\n",(0,d.jsx)(r.hr,{}),"\n",(0,d.jsx)(r.h2,{id:"downloads",children:"Downloads"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Item"}),(0,d.jsx)(r.th,{children:"Descri\xe7\xe3o"}),(0,d.jsx)(r.th,{children:"Link para Download"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DLL ConnectTEF x86"}),(0,d.jsx)(r.td,{children:"Biblioteca para sistemas 32 bits"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.a,{href:"https://arquivos.pdvpos.com.br/connecttef/gerenciador-padrao/dll/InterfaceConnectTEF-Win32.dll",children:"Download DLL x86"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DLL ConnectTEF x64"}),(0,d.jsx)(r.td,{children:"Biblioteca para sistemas 64 bits"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.a,{href:"https://arquivos.pdvpos.com.br/connecttef/gerenciador-padrao/dll/InterfaceConnectTEF-Win32.dll",children:"Download DLL x64"})})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"DLL ConnectTEF Win32"}),(0,d.jsx)(r.td,{children:"Biblioteca para sistemas Win32"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.a,{href:"https://arquivos.pdvpos.com.br/connecttef/gerenciador-padrao/dll/InterfaceConnectTEF-Win32.dll",children:"Download DLL Win32"})})]})]})]}),"\n",(0,d.jsx)(r.hr,{}),"\n",(0,d.jsx)(r.h2,{id:"vis\xe3o-geral",children:"Vis\xe3o Geral"}),"\n",(0,d.jsx)(r.p,{children:"O fluxo de qualquer opera\xe7\xe3o segue este padr\xe3o:"}),"\n",(0,d.jsxs)(r.ol,{children:["\n",(0,d.jsxs)(r.li,{children:["Seu sistema chama ",(0,d.jsx)(r.code,{children:"ProcessarOperacao"})," com os dados da opera\xe7\xe3o."]}),"\n",(0,d.jsx)(r.li,{children:"A DLL retorna um JSON com o status."}),"\n",(0,d.jsxs)(r.li,{children:["Se ",(0,d.jsx)(r.code,{children:"executada = false"}),", repita a chamada com ",(0,d.jsx)(r.code,{children:"novaOperacao = false"})," at\xe9 ",(0,d.jsx)(r.code,{children:"executada = true"}),"."]}),"\n",(0,d.jsxs)(r.li,{children:["Se ",(0,d.jsx)(r.code,{children:"executada = true"}),", verifique ",(0,d.jsx)(r.code,{children:"statusTransacao"}),"."]}),"\n",(0,d.jsxs)(r.li,{children:["Se ",(0,d.jsx)(r.code,{children:'statusTransacao = "0"'}),", chame ",(0,d.jsx)(r.code,{children:"ProcessarOperacao"})," com ",(0,d.jsx)(r.code,{children:"operacao = 3"})," para finalizar."]}),"\n"]}),"\n",(0,d.jsx)(r.p,{children:(0,d.jsx)(r.img,{alt:"diagrama.png",src:n(3086).A+"",width:"1137",height:"1098"})}),"\n",(0,d.jsx)(r.hr,{}),"\n",(0,d.jsx)(r.h2,{id:"assinatura-da-fun\xe7\xe3o",children:"Assinatura da Fun\xe7\xe3o"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-c",children:"char* ProcessarOperacao(int operacao, const char* payload, bool novaOperacao);\n"})}),"\n",(0,d.jsx)(r.h3,{id:"par\xe2metros",children:"Par\xe2metros"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Par\xe2metro"}),(0,d.jsx)(r.th,{children:"Tipo"}),(0,d.jsx)(r.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"operacao"})}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"int"})}),(0,d.jsxs)(r.td,{children:["Tipo de opera\xe7\xe3o:",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"0"})," = Pagamento",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"1"})," = Estorno",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"2"})," = Impress\xe3o",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"3"})," = Finaliza\xe7\xe3o"]})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"payload"})}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"const char*"})}),(0,d.jsx)(r.td,{children:"String JSON com os dados da opera\xe7\xe3o"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"novaOperacao"})}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"bool"})}),(0,d.jsxs)(r.td,{children:[(0,d.jsx)(r.code,{children:"true"})," para nova opera\xe7\xe3o",(0,d.jsx)("br",{}),(0,d.jsx)(r.code,{children:"false"})," para continuar uma opera\xe7\xe3o em andamento"]})]})]})]}),"\n",(0,d.jsx)(r.h2,{id:"campos-no-json-de-retorno",children:"Campos no JSON de retorno"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Campo"}),(0,d.jsx)(r.th,{children:"Tipo"}),(0,d.jsx)(r.th,{children:"Descri\xe7\xe3o"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"identificacao"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Identificador \xfanico da opera\xe7\xe3o"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"valorTotal"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Valor total da transa\xe7\xe3o"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"statusTransacao"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:'"0" = sucesso; outros valores indicam falha'})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"nomeRede"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Nome da adquirente"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"tipoTransacao"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Tipo da transa\xe7\xe3o"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"numeroTransacao"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"N\xfamero sequencial da transa\xe7\xe3o"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"codigoAutorizacaoTransacao"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"C\xf3digo de autoriza\xe7\xe3o fornecido pela adquirente"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"quantidadeParcelas"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"N\xfamero de parcelas"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"dataTransacaoComprovante"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Data da transa\xe7\xe3o no comprovante (formato: ddMMyyyy)"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"horaTransacaoComprovante"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Hora da transa\xe7\xe3o no comprovante (formato: hhmmss)"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"numeroTransacaoCancelada"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"N\xfamero da transa\xe7\xe3o que foi cancelada"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"timestampTransacaoCancelada"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Timestamp da transa\xe7\xe3o cancelada (formato: ddMMhhmmss)"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"finalizacao"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Dados t\xe9cnicos da finaliza\xe7\xe3o da transa\xe7\xe3o"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"quantidadeLinhasComprovante"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Quantidade de linhas no comprovante"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"textoEspecialOperador"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Mensagem especial para exibi\xe7\xe3o ao operador"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"numeroSerieTerminal"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"N\xfamero de s\xe9rie do terminal (Smart POS)"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"executada"})}),(0,d.jsx)(r.td,{children:"boolean"}),(0,d.jsx)(r.td,{children:"Indica se a opera\xe7\xe3o foi processada com sucesso"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"cnpj"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"CNPJ do estabelecimento"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:(0,d.jsx)(r.code,{children:"bandeiraCartao"})}),(0,d.jsx)(r.td,{children:"string"}),(0,d.jsx)(r.td,{children:"Bandeira do cart\xe3o utilizado (ex: MASTERCARD)"})]})]})]}),"\n",(0,d.jsx)(r.hr,{}),"\n",(0,d.jsx)(r.h2,{id:"exemplos-de-resposta",children:"Exemplos de Resposta"}),"\n",(0,d.jsx)(r.h3,{id:"-em-andamento",children:"\u23f3 Em Andamento"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-json",children:'{\r\n  "executada": false,\r\n  "textoEspecialOperador": "PROCESSANDO..."\r\n}\n'})}),"\n",(0,d.jsx)(r.h3,{id:"-exemplo-com-falha",children:"\u274c Exemplo com Falha"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-json",children:'{\r\n  "executada": true,\r\n  "statusTransacao": "1001",\r\n  "textoEspecialOperador": "Cart\xe3o inv\xe1lido"\r\n}\n'})}),"\n",(0,d.jsx)(r.h3,{id:"-exemplo-com-sucesso",children:"\u2705 Exemplo com Sucesso"}),"\n",(0,d.jsx)(r.pre,{children:(0,d.jsx)(r.code,{className:"language-json",children:'{\r\n  "identificacao" : "1",\r\n  "valorTotal" : "100",\r\n  "statusTransacao" : "0",\r\n  "nomeRede" : "PINBANK",\r\n  "tipoTransacao" : "10",\r\n  "numeroTransacao" : "92",\r\n  "codigoAutorizacaoTransacao" : "359390",\r\n  "quantidadeParcelas" : "1",\r\n  "dataTransacaoComprovante" : "14072025",\r\n  "horaTransacaoComprovante" : "162602",\r\n  "numeroTransacaoCancelada" : "92",\r\n  "timestampTransacaoCancelada" : "1407162602",\r\n  "finalizacao" : "2117085|359390|359390",\r\n  "quantidadeLinhasComprovante" : "000",\r\n  "textoEspecialOperador" : "Transa\xe7\xe3o cancelada com sucesso!",\r\n  "numeroSerieTerminal" : "PBF923CC70331",\r\n  "executada" : false,\r\n  "cnpj" : "42407441000152",\r\n  "bandeiraCartao" : "MASTERCARD"\r\n}\n'})})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(l,{...e})}):l(e)}}}]);